<%- include('partials/Header') %>
<%- include('partials/NavBar') %>
<style>
	body {
		background-color: #ffffff;
	}
	.card {
		background-color: white;
	}
	.card-text {
		color: #333;
	}
	.btn-custom {
		background-color: #87CEEB; 
		color: white;
		border: none;
		padding: 10px 20px;
		text-align: center;
		text-decoration: none;
		display: inline-block;
		border-radius: 5px;
		transition: background-color 0.3s;
	}
	.btn-custom:hover {
		background-color: #00BFFF; 
	}
</style>

<div class="container my-4">
	<h2 class="text-center mb-4">All Posts</h2>
  	<a href="/users/<%= userId %>/posts/create" class="btn-custom">Add new Post</a>
  	<br><br>
	<div class="row">
		<% dataPost.forEach(post => { %>
		<div class="col-md-4 mb-4">
			<div class="card shadow-sm" style="border: none">
				<% if (post.imageUrl) { %>
				<img src="<%= post.imageUrl %>" class="card-img-top" alt="Post Image" />
				<% } %>
				<div class="card-body">
					<p class="card-text"><%= post.content %></p>
          
          			<p class="card-text">
          				<small class="text-muted">
          					| <%= new Date(post.createdAt).toLocaleDateString() %> |
          				</small>
          			</p>

          			<a href="/posts/YourPost/<%= userId %>/<%= post.id %>/edit" class="btn-custom">Edit Post</a>
          			<a href="/posts/YourPost/<%= userId %>/<%= post.id %>/delete" class="btn-custom">Delete Post</a>
					
					<form action="/posts/<%= post.id %>/tag" method="post">
						<div class="form-group">
							<label for="tag">Add a Tag:</label>
							<input type="text" name="tag" class="form-control" id="tagInput" placeholder="Enter a tag">
						</div>
						<br>
						<button type="submit" class="btn-custom">Submit</button> 
					</form>
          
				</div>
			</div>
		</div>
		<% }) %>
	</div>
</div>

<%- include('partials/Footer') %>
